<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <template id="report_exam_academic_transcript">
            <t t-call="web.html_container">
                <t t-set="exams" t-value="get_exams(docs)" />
                <t t-set="mark_colum" t-value="1"/>
                <t t-set="tut_mark" t-value="false"/>
                <t t-set="subj_mark" t-value="false"/>
                <t t-set="obj_mark" t-value="false"/>
                <t t-set="prac_mark" t-value="false"/>

                <t t-foreach="exams"  t-as="ex">
                    <t t-foreach="get_subjects(ex,'n')" t-as="sub">
                        <t t-if="sub.tut_mark>0">
                            <t t-set="tut_mark" t-value="1"/>
                        </t>
                        <t t-if="sub.subj_mark>0">
                            <t t-set="subj_mark" t-value="1"/>
                        </t>
                        <t t-if="sub.obj_mark>0">
                            <t t-set="obj_mark" t-value="1"/>
                        </t>
                        <t t-if="sub.prac_mark>0">
                            <t t-set="prac_mark" t-value="1"/>
                        </t>
                    </t>
                </t>
                    <t t-if="tut_mark>0">
                            <t t-set="mark_colum" t-value="mark_colum+1"/>
                    </t>
                    <t t-if="prac_mark>0">
                            <t t-set="mark_colum" t-value="mark_colum+1"/>
                    </t>
                    <t t-if="subj_mark>0">
                            <t t-set="mark_colum" t-value="mark_colum+1"/>
                    </t>
                    <t t-if="obj_mark>0">
                            <t t-set="mark_colum" t-value="mark_colum+1"/>
                    </t>

                <t t-foreach="get_students(docs)" t-as="student">
                    <t t-call="web.external_layout">
                        <style>
                            table, th, td {
                                     border: 1px solid black;
                                    padding-bottom:3px;
                                    padding-left:3px;
                                    padding-top:3px;
                                    padding-right:3px;
                                    }
                            .right_top{
                            float:right;
                            padding-top:90px;
                            }
                            .right{
                            float:right;
                            padding-top:10px;
                            }
                        </style>
                        <div class="page">
                            <div class="oe_structure">

                                <div class="row">
                                    <div class="right_top" >
                                        <table>
                                            <tr><td>Letter <br></br> Grade </td><td>Grade <br></br>interval </td><td>Grade <br></br>point</td></tr>

                                                <t t-foreach="get_gradings(o)" t-as="g">
                                                    <tr><td> <span t-field="g.result"/></td>
                                                        <td> <span t-field="g.min_per"/>-<span t-field="g.max_per"/>%</td>
                                                        <td> <span t-field="g.score"/></td>
                                                    </tr>
                                                </t>
                                        </table>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="right" padding-top="10px">
                                        <table>
                                            <tr><td colspan="2">Information</td><td colspan="2">Co-curricular Activity </td></tr>
                                            <tr><td> Number of Students:</td><td width="40px"></td><td> Behavior</td><td width="40px"></td></tr>
                                            <tr><td> Total working days:</td><td></td><td> Sports Program:</td><td></td></tr>
                                            <tr><td> Attendance:</td><td></td><td> Uniform:</td><td></td></tr>
                                            <tr><td> Percentage of attendance:</td><td></td><td> Cultural Activities:</td><td></td></tr>
                                        </table>
                                    </div>
                                    <div class="left">
                                         <table><tr><td><strong>ID : <span t-field="student.student_id"/></strong></td>
                                             <td><strong>Roll : <span t-field="student.roll_no"/></strong></td>
                                             <td><strong>Section : <span t-field="student.class_id.section_id"/>
                                                 <t t-if="student.class_id.display">
                                                     (<span t-field="student.class_id.display"/>)
                                                 </t>
                                             </strong></td>

                                             <td><strong>Student Type :
                                                 <t t-if="student.student_category=='I'">I</t>
                                                 <t t-else="">E</t>
                                             </strong>
                                             </td></tr>
                                             <tr><td colspan="4"><strong> Name : <span t-field="student.name"/>
                                                        <span t-field="student.middle_name"/>
                                                        <span t-field="student.last_name"/>
                                                    </strong></td></tr>
                                             <tr><td colspan="4"><strong> Father : <span t-field="student.father_name"/>
                                                        </strong></td></tr>
                                             <tr><td colspan="4" ><strong> Mother : <span t-field="student.mother_name"/>
                                                        </strong></td> </tr>
                                         </table>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="left">
                                         <table width="100%">
                                            <tr>
                                                <t t-foreach="get_exams(docs)" t-as="exam">
                                                <td>
                                                    <table width="100%">
                                                        <tr>
                                                            <t t-if="exam_first"> <td rowspan="2">Subject</td>
                                                                <td rowspan="2">Paper</td>
                                                                <td t-att-colspan="mark_colum" >Full Mark</td>
                                                            </t>
                                                            <td colspan="9"> <strong> <span t-field="exam.exam_type"/> </strong></td>
                                                        </tr>
                                                        <tr>
                                                            <t t-if="tut_mark==1">
                                                                <td>Tut</td>
                                                            </t>
                                                            <t t-if="subj_mark==1">
                                                                <td>Subj</td>
                                                            </t>
                                                            <t t-if="obj_mark==1">
                                                                <td>Obj</td>
                                                            </t>
                                                            <t t-if="prac_mark==1">
                                                                <td>Prac</td>
                                                            </t>
                                                                <td>Total</td>

                                                            <t t-if="tut_mark==1">
                                                                <td>Tut</td>
                                                            </t>
                                                            <t t-if="subj_mark==1">
                                                                <td>Subj</td>
                                                            </t>
                                                            <t t-if="obj_mark==1">
                                                                <td>Obj</td>
                                                            </t>
                                                            <t t-if="prac_mark==1">
                                                                <td>Prac</td>
                                                            </t>
                                                            <td>Total</td>
                                                            <td>Highest</td>
                                                            <td>LG</td>
                                                            <td>GP</td>
                                                            <td>GPA</td>
                                                        </tr>
                                                            <t t-foreach="get_subjects(exam,'general')" t-as="s" >
                                                                <tr>
                                                                    <t t-if="exam_first">
                                                                        <td><span t-field="s.subject_id.display"/> </td>
                                                                        <td><span t-field="s.subject_id.paper"/> </td>
                                                                        <td><span t-field="s.tut_mark"/> </td>
                                                                    </t>
                                                                    <td ><strong> <span t-field="s.tut_mark"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.subj_mark"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.obj_mark"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.prac_mark"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.mark_scored"/> </strong></td>
                                                                    <td ><strong> Highest </strong></td>
                                                                    <td ><strong><span t-field="s.letter_grade"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.grade_point"/> </strong></td>
                                                                    <td ><strong> GPA </strong></td>
                                                                </tr>
                                                                <t t-if="s_last">
                                                                    <tr>
                                                                        <td colspan="2">Total</td><td></td><td></td><td></td><td></td><td></td>
                                                                    </tr>

                                                                </t>
                                                            </t>

                                                    </table>
                                                </td>
         </t>
                                            </tr>
                                             <tr>
                                                <t t-foreach="get_exams(docs)" t-as="exam">
                                                <td>
                                                    <table width="100%">
                                                        <tr>
                                                            <t t-if="exam_first"> <td rowspan="2">Subject</td>
                                                                <td rowspan="2">Paper</td>
                                                                <td t-att-colspan="mark_colum" >Full Mark</td>
                                                            </t>
                                                            <td colspan="9"> <strong> <span t-field="exam.exam_type"/> </strong></td>
                                                        </tr>
                                                        <tr>
                                                            <t t-if="tut_mark==1">
                                                                <td>Tut</td>
                                                            </t>
                                                            <t t-if="subj_mark==1">
                                                                <td>Subj</td>
                                                            </t>
                                                            <t t-if="obj_mark==1">
                                                                <td>Obj</td>
                                                            </t>
                                                            <t t-if="prac_mark==1">
                                                                <td>Prac</td>
                                                            </t>
                                                                <td>Total</td>

                                                            <t t-if="tut_mark==1">
                                                                <td>Tut</td>
                                                            </t>
                                                            <t t-if="subj_mark==1">
                                                                <td>Subj</td>
                                                            </t>
                                                            <t t-if="obj_mark==1">
                                                                <td>Obj</td>
                                                            </t>
                                                            <t t-if="prac_mark==1">
                                                                <td>Prac</td>
                                                            </t>
                                                            <td>Total</td>
                                                            <td>Highest</td>
                                                            <td>LG</td>
                                                            <td>GP</td>
                                                            <td>GPA</td>
                                                        </tr>
                                                            <t t-foreach="get_subjects(exam,'additional')" t-as="s" >
                                                                <tr>
                                                                    <t t-if="exam_first">
                                                                        <td><span t-field="s.subject_id.display"/> </td>
                                                                        <td><span t-field="s.subject_id.paper"/> </td>
                                                                        <td><span t-field="s.tut_mark"/> </td>
                                                                    </t>
                                                                    <td ><strong> <span t-field="s.tut_mark"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.subj_mark"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.obj_mark"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.prac_mark"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.mark_scored"/> </strong></td>
                                                                    <td ><strong> Highest </strong></td>
                                                                    <td ><strong><span t-field="s.letter_grade"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.grade_point"/> </strong></td>
                                                                    <td ><strong> GPA </strong></td>
                                                                </tr>
                                                                <t t-if="s_last">
                                                                    <tr>
                                                                        <td colspan="2">Total</td><td></td><td></td><td></td><td></td><td></td>
                                                                    </tr>

                                                                </t>
                                                            </t>

                                                    </table>
                                                </td>
                                                </t>
                                            </tr>
                                             <tr>
                                                <t t-foreach="get_exams(docs)" t-as="exam">
                                                <td>
                                                    <table width="100%">
                                                        <tr>
                                                            <t t-if="exam_first"> <td rowspan="2">Subject</td>
                                                                <td rowspan="2">Paper</td>
                                                                <td t-att-colspan="mark_colum" >Full Mark</td>
                                                            </t>
                                                            <td colspan="9"> <strong> <span t-field="exam.exam_type"/> </strong></td>
                                                        </tr>
                                                        <tr>
                                                            <t t-if="tut_mark==1">
                                                                <td>Tut</td>
                                                            </t>
                                                            <t t-if="subj_mark==1">
                                                                <td>Subj</td>
                                                            </t>
                                                            <t t-if="obj_mark==1">
                                                                <td>Obj</td>
                                                            </t>
                                                            <t t-if="prac_mark==1">
                                                                <td>Prac</td>
                                                            </t>
                                                                <td>Total</td>

                                                            <t t-if="tut_mark==1">
                                                                <td>Tut</td>
                                                            </t>
                                                            <t t-if="subj_mark==1">
                                                                <td>Subj</td>
                                                            </t>
                                                            <t t-if="obj_mark==1">
                                                                <td>Obj</td>
                                                            </t>
                                                            <t t-if="prac_mark==1">
                                                                <td>Prac</td>
                                                            </t>
                                                            <td>Total</td>
                                                            <td>Highest</td>
                                                            <td>LG</td>
                                                            <td>GP</td>
                                                            <td>GPA</td>
                                                        </tr>
                                                            <t t-foreach="get_subjects(exam,'extra')" t-as="s" >
                                                                <tr>
                                                                    <t t-if="exam_first">
                                                                        <td><span t-field="s.subject_id.display"/> </td>
                                                                        <td><span t-field="s.subject_id.paper"/> </td>
                                                                        <td><span t-field="s.tut_mark"/> </td>
                                                                    </t>
                                                                    <td ><strong> <span t-field="s.tut_mark"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.subj_mark"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.obj_mark"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.prac_mark"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.mark_scored"/> </strong></td>
                                                                    <td ><strong> Highest </strong></td>
                                                                    <td ><strong><span t-field="s.letter_grade"/> </strong></td>
                                                                    <td ><strong> <span t-field="s.grade_point"/> </strong></td>
                                                                    <td ><strong> GPA </strong></td>
                                                                </tr>
                                                                <t t-if="s_last">
                                                                    <tr>
                                                                        <td colspan="2">Total</td><td></td><td></td><td></td><td></td><td></td>
                                                                    </tr>

                                                                </t>
                                                            </t>

                                                    </table>
                                                </td>
                                                </t>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                                <table width="100%" border-collapse="collapse">
                                    <tr ><td height="50px"></td><td></td><td></td></tr>
                                    <tr border="0">
                                        <td border="0">Signature Of Class Teacher</td>
                                        <td border="0">Signature Of the Principal</td>
                                        <td border="0">Signature Of Guardian</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </t>
                </t>
            </t>
        </template>

    </data>
</odoo>
